<div class="article_content" id="article_content">
 <p>
  关于数据集神马的，请直接参考：
  <a href="http://blog.csdn.net/wangyuquanliuli/article/details/11606435" target="_blank">
   http://blog.csdn.net/wangyuquanliuli/article/details/11606435
  </a>
 </p>
 <p>
  这里直接给出KNN matlab的实现
 </p>
 <p>
  <br/>
 </p>
 <p>
 </p>
 <pre class="plain" code_snippet_id="115966" name="code" snippet_file_name="blog_20131217_1_9067788">trainImages = loadMNISTImages('train-images.idx3-ubyte');      
trainLabels = loadMNISTLabels('train-labels.idx1-ubyte');
N = 784;
K = 100;% can be any other value
testImages = loadMNISTImages('t10k-images.idx3-ubyte');
testLabels = loadMNISTLabels('t10k-labels.idx1-ubyte');
trainLength = length(trainImages);
testLength = length(testImages);
testResults = linspace(0,0,length(testImages));
compLabel = linspace(0,0,K);
tic;
for i=1:testLength
    curImage = repmat(testImages(:,i),1,trainLength);
    curImage = abs(trainImages-curImage);
    comp=sum(curImage);
    [sortedComp,ind] = sort(comp);
    for j = 1:K
        compLabel(j) = trainLabels(ind(j));
    end
    table = tabulate(compLabel);
    [maxCount,idx] = max(table(:,2));
    testResults(i) = table(idx);  

    disp(testResults(i));
    disp(testLabels(i));
end
% Compute the error on the test set
error=0;
for i=1:testLength
  if (testResults(i) ~= testLabels(i))
    error=error+1;
  end
end

%Print out the classification error on the test set
error/testLength
toc;
disp(toc-tic);
        </pre>
 <p>
  <br/>
 </p>
 其中训练数据60000条，测试数据10000条
 <br/>
 <img alt="" src="http://img.blog.csdn.net/20131217155435125?watermark/2/text/aHR0cDovL2Jsb2cuY3Nkbi5uZXQvd2FuZ3l1cXVhbmxpdWxp/font/5a6L5L2T/fontsize/400/fill/I0JBQkFCMA==/dissolve/70/gravity/Center"/>
 <br/>
 <p>
  运行时间慢的原因分析：
 </p>
 <p>
  <span style="white-space:pre">
  </span>
  没有进行主成分分析，用所有的维度在进行比较，这一点是可以改进的地方：）
 </p>
 <p>
  <br/>
 </p>
</div>
